---
title: "Принудительная настройка цвета"
description: "Утилиты для включения и отключения принудительных цветов."
---

import utilities from 'utilities?plugin=forcedColorAdjust'
import { BreakpointsAndMediaQueries } from '@/components/BreakpointsAndMediaQueries'
import { HoverFocusAndOtherStates } from '@/components/HoverFocusAndOtherStates'

export const classes = { utilities }

## Основы использования

### Отказ от принудительных цветов

Используйте `forced-color-adjust-none`, чтобы отключить для элемента цвета, заданные [режимом принудительного цвета](/docs/hover-focus-and-other-states#forced-colors-mode). Это полезно в ситуациях, когда ограничение цветовой палитры ухудшит удобство использования.

```html {{ example: { hint: 'Попробуйте эмулировать &#96;forced-colors: active&#96; в инструментах разработчика, чтобы увидеть изменения' }}}
<div class="mx-auto max-w-sm overflow-clip rounded-lg bg-white shadow">
  <div class="aspect-h-3 aspect-w-3 overflow-hidden">
    <img src="/img/t-shirt.jpg" alt="Two each of gray, white, and black shirts laying flat." class="h-full w-full object-cover object-center" />
  </div>
  <div class="grid grid-cols-[1fr_auto] items-center gap-4 p-4">
    <div>
      <h3 class="font-medium text-gray-900">Basic Tee</h3>
      <h3 class="text-sm font-medium text-gray-900">$35</h3>
    </div>
    <fieldset>
      <legend class="sr-only">Choose a color</legend>
      <div class="forced-color-adjust-none grid grid-flow-col items-center gap-3">
        <label class="has-[:checked]:ring-gray-400 has-[:checked]:ring-1 has-[:checked]:ring-offset-1 relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none">
          <input type="radio" name="color-choice" value="White" class="sr-only" aria-labelledby="color-choice-0-label" />
          <span id="color-choice-0-label" class="sr-only">White</span>
          <span aria-hidden="true" class="size-6 rounded-full border border-black border-opacity-10 bg-white"></span>
        </label>
        <label class="has-[:checked]:ring-gray-400 has-[:checked]:ring-1 has-[:checked]:ring-offset-1 relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none">
          <input type="radio" checked name="color-choice" value="Gray" class="sr-only" />
          <span id="color-choice-1-label" class="sr-only">Gray</span>
          <span aria-hidden="true" class="size-6 rounded-full border border-black border-opacity-10 bg-gray-200"></span>
        </label>
        <label class="has-[:checked]:ring-gray-900 has-[:checked]:ring-1 has-[:checked]:ring-offset-1 relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none">
          <input type="radio" name="color-choice" value="Black" class="sr-only" aria-labelledby="color-choice-2-label" />
          <span id="color-choice-2-label" class="sr-only">Black</span>
          <span aria-hidden="true" class="size-6 rounded-full border border-black border-opacity-10 bg-gray-900"></span>
        </label>
      </div>
    </fieldset>
  </div>
</div>
```

```html
<form>
  <img src="..." />
  <div>
    <h3>Basic Tee</h3>
    <h3>$35</h3>
    <fieldset>
      <legend class="sr-only">Choose a color</legend>
      <div class="**forced-color-adjust-none** ...">
        <label >
          <input class="sr-only" type="radio" name="color-choice" value="White" />
          <span class="sr-only">White</span>
          <span class="size-6 rounded-full border border-black border-opacity-10 bg-white"></span>
        </label>
        <!-- ... -->
      </div>
    </fieldset>
</form>
```

Вы также можете использовать [модификатор `forced-colors`](/docs/hover-focus-and-other-states#forced-colors-mode) для условного добавления стилей, когда пользователь включил принудительный цветовой режим.

### Восстановление вынужденных цветов

Используйте `forced-color-adjust-auto`, чтобы отменить `forced-color-adjust-none`, заставляя элемент придерживаться цветов, установленных в режиме принудительного цвета.

Это может быть полезно, если вы используете другой элемент управления на экране большего размера, например:

```html
<form>
  <fieldset class="forced-color-adjust-none lg:**forced-color-adjust-auto** ...">
    <legend>Choose a color:</legend>
    <select class="hidden lg:block">
      <option value="White">White</option>
      <option value="Gray">Gray</option>
      <option value="Black">Black</option>
    </select>
    <div class="lg:hidden">
      <label>
        <input class="sr-only" type="radio" name="color-choice" value="White" />
        <!-- ... -->
      </label>
      <!-- ... -->
    </div>
  </fieldset>
</form>
```

---

## <Heading ignore>Применение условно</Heading>

### <Heading ignore>Наведение, фокус и другие состояния</Heading>

<HoverFocusAndOtherStates featuredClass="forced-color-adjust-none" variant="focus">

```html
<a href="#content" class="forced-color-adjust-none **focus:forced-color-adjust-auto**">
  Перейти к содержимому
</a>
```

</HoverFocusAndOtherStates>

### <Heading ignore>Контрольные точки и медиа-запросы</Heading>

<BreakpointsAndMediaQueries defaultClass="forced-color-adjust-none" featuredClass="forced-color-adjust-auto" />
