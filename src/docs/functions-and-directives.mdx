import { CodeExampleStack } from "@/components/code-example";

export const title = "Функции и директивы";
export const description = "Справочник по пользовательским функциям и директивам, которые Tailwind предоставляет для вашего CSS.";

## Директивы

Директивы - это пользовательские [at-правила](https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule), специфичные для Tailwind, которые вы можете использовать в своем CSS и которые предлагают специальную функциональность для проектов Tailwind CSS.

<h3 id="import-directive">
  <a href="#import-directive">@import</a>
</h3>

Используйте директиву `@import` для встраивания CSS файлов, включая сам Tailwind:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
```

<h3 id="theme-directive">
  <a href="#theme-directive">@theme</a>
</h3>

Используйте директиву `@theme` для определения пользовательских дизайн-токенов вашего проекта, таких как шрифты, цвета и контрольной точки:

```css
/* [!code filename:CSS] */
@theme {
  --font-display: "Satoshi", "sans-serif";

  --breakpoint-3xl: 120rem;

  --color-avocado-100: oklch(0.99 0 0);
  --color-avocado-200: oklch(0.98 0.04 113.22);
  --color-avocado-300: oklch(0.94 0.11 115.03);
  --color-avocado-400: oklch(0.92 0.19 114.08);
  --color-avocado-500: oklch(0.84 0.18 117.33);
  --color-avocado-600: oklch(0.53 0.12 118.34);

  --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
  --ease-snappy: cubic-bezier(0.2, 0, 0, 1);

  /* ... */
}
```

Узнайте больше о кастомизации вашей темы в [документации по переменным темы](/docs/theme).

<h3 id="source-directive">
  <a href="#source-directive">@source</a>
</h3>

Используйте директиву `@source` для явного указания исходных файлов, которые не обнаруживаются автоматическим обнаружением контента Tailwind:

```css
/* [!code filename:CSS] */
@source "../node_modules/@my-company/ui-lib";
```

Узнайте больше об автоматическом обнаружении контента в [документации по обнаружению классов в исходных файлах](/docs/detecting-classes-in-source-files).

<h3 id="utility-directive">
  <a href="#utility-directive">@utility</a>
</h3>

Используйте директиву `@utility` для добавления пользовательских утилит в ваш проект, которые работают с вариантами типа `hover`, `focus` и `lg`:

```css
/* [!code filename:CSS] */
@utility tab-4 {
  tab-size: 4;
}
```

Узнайте больше о регистрации пользовательских утилит в [документации по добавлению пользовательских утилит](/docs/adding-custom-styles#adding-custom-utilities).

<h3 id="variant-directive">
  <a href="#variant-directive">@variant</a>
</h3>

Используйте директиву `@variant` для применения варианта Tailwind к стилям в вашем CSS:

```css
/* [!code filename:CSS] */
.my-element {
  background: white;

  /* [!code highlight:4] */
  @variant dark {
    background: black;
  }
}
```

Узнайте больше об использовании вариантов в [документации по использованию вариантов](/docs/adding-custom-styles#using-variants).

<h3 id="custom-variant-directive">
  <a href="#custom-variant-directive">@custom-variant</a>
</h3>

Используйте директиву `@custom-variant` для добавления пользовательского варианта в ваш проект:

```css
/* [!code filename:CSS] */
@custom-variant theme-midnight (&:where([data-theme="midnight"] *));
```

Это позволяет вам писать утилиты `theme-midnight:bg-black` и `theme-midnight:text-white`.

Узнайте больше о добавлении пользовательских вариантов в [документации по добавлению пользовательских вариантов](/docs/adding-custom-styles#adding-custom-variants).

<h3 id="apply-directive">
  <a href="#apply-directive">@apply</a>
</h3>

Используйте директиву `@apply` для встраивания любых существующих классов утилит в ваш собственный пользовательский CSS:

```css
/* [!code filename:CSS] */
.select2-dropdown {
  /* [!code highlight:2] */
  @apply rounded-b-lg shadow-md;
}

.select2-search {
  /* [!code highlight:2] */
  @apply rounded border border-gray-300;
}

.select2-results__group {
  /* [!code highlight:2] */
  @apply text-lg font-bold text-gray-900;
}
```

Это полезно, когда вам нужно написать пользовательский CSS (например, для переопределения стилей в сторонней библиотеке), но вы все еще хотите работать с вашими дизайн-токенами и использовать тот же синтаксис, к которому вы привыкли в HTML.

<h3 id="reference-directive">
  <a href="#reference-directive">@reference</a>
</h3>

Если вы хотите использовать `@apply` или `@variant` в блоке `<style>` компонента Vue или Svelte, или в CSS модулях, вам нужно будет импортировать переменные темы, пользовательские утилиты и пользовательские варианты, чтобы сделать эти значения доступными в этом контексте.

Чтобы сделать это без дублирования CSS в выводе, используйте директиву `@reference` для импорта основного таблицы стилей для справки без фактического включения стилей:

```html
<!-- [!code filename:Vue] -->
<template>
  <h1>Привет мир!</h1>
</template>

<style>
  /* [!code highlight:2] */
  @reference "../../app.css";

  h1 {
    @apply text-2xl font-bold text-red-500;
  }
</style>
```

Если вы просто используете тему по умолчанию без кастомизации, вы можете импортировать `tailwindcss` напрямую:

```html
<!-- [!code filename:Vue] -->
<template>
  <h1>Привет мир!</h1>
</template>

<style>
  /* [!code highlight:2] */
  @reference "tailwindcss";

  h1 {
    @apply text-2xl font-bold text-red-500;
  }
</style>
```

## Функции

Tailwind предоставляет следующие функции времени сборки для упрощения работы с цветами и шкалой отступов.

<h3 id="alpha-function">
  <a href="#alpha-function">--alpha()</a>
</h3>

Используйте функцию `--alpha()` для настройки прозрачности цвета:

<CodeExampleStack>

```css
/* [!code filename:Input CSS] */
.my-element {
  /* [!code highlight:2] */
  color: --alpha(var(--color-lime-300) / 50%);
}
```

```css
/* [!code filename:Compiled CSS] */
.my-element {
  color: color-mix(in oklab, var(--color-lime-300) 50%, transparent);
}
```

</CodeExampleStack>

<h3 id="spacing-function">
  <a href="#spacing-function">--spacing()</a>
</h3>

Используйте функцию `--spacing()` для генерации значения отступа на основе вашей темы:

<CodeExampleStack>

```css
/* [!code filename:Input CSS] */
.my-element {
  /* [!code highlight:2] */
  margin: --spacing(4);
}
```

```css
/* [!code filename:Compiled CSS] */
.my-element {
  margin: calc(var(--spacing) * 4);
}
```

</CodeExampleStack>

Это также может быть полезно в произвольных значениях, особенно в сочетании с `calc()`:

```html
<!-- [!code filename:HTML] -->
<!-- [!code classes:py-[calc(--spacing(4)-1px)]] -->
<div class="py-[calc(--spacing(4)-1px)]">
  <!-- ... -->
</div>
```

## Совместимость

Следующие директивы и функции существуют исключительно для совместимости с Tailwind CSS v3.x.

<h3 id="config-directive">
  <a href="#config-directive">@config</a>
</h3>

Используйте директиву `@config` для загрузки устаревшего файла конфигурации на основе JavaScript:

```css
/* [!code filename:CSS] */
@config "../../tailwind.config.js";
```

Опции `corePlugins`, `safelist` и `separator` из конфигурации на основе JavaScript не поддерживаются в v4.0.

<h3 id="plugin-directive">
  <a href="#plugin-directive">@plugin</a>
</h3>

Используйте директиву `@plugin` для загрузки устаревшего плагина на основе JavaScript:

```css
/* [!code filename:CSS] */
@plugin "@tailwindcss/typography";
```

Директива `@plugin` принимает либо имя пакета, либо локальный путь.

<h3 id="theme-function">
  <a href="#theme-function">theme()</a>
</h3>

Используйте функцию `theme()` для доступа к значениям темы Tailwind с помощью точечной нотации:

```css
/* [!code filename:CSS] */
.my-element {
  /* [!code highlight:2] */
  margin: theme(spacing.12);
}
```

Эта функция устарела, и мы рекомендуем [использовать CSS переменные темы](/docs/theme#using-your-theme-variables) вместо нее.
