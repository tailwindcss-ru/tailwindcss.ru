import { TipGood, TipBad } from "@/components/tips";
import { Iframe } from "@/components/iframe";
import { Example } from "@/components/example";
import { Figure } from "@/components/figure";

export const title = "Адаптивный дизайн";
export const description = "Использование адаптивных утилит для построения адаптивных пользовательских интерфейсов.";

## Обзор

Каждая утилита в Tailwind может применяться условно на разных брейкпоинтах, что позволяет легко строить сложные адаптивные интерфейсы, не выходя из HTML.

Сначала убедитесь, что вы добавили [мета-тег viewport](https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag) в `<head>` вашего документа:

```html
<!-- [!code filename:index.html] -->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
```

Чтобы применить утилиту только на определённом брейкпоинте, просто добавьте к ней префикс с именем брейкпоинта и двоеточием:

```html
<!-- [!code filename:HTML]  -->
<!-- [!code word:md\:w-32] -->
<!-- [!code word:lg\:w-48] -->
<!-- Ширина 16 по умолчанию, 32 на средних экранах и 48 на больших -->
<img class="w-16 md:w-32 lg:w-48" src="..." />
```

По умолчанию есть пять брейкпоинтов, вдохновлённых распространёнными разрешениями устройств:

{

<table>
  <thead>
    <tr>
      <th>Префикс брейкпоинта</th>
      <th>Минимальная ширина</th>
      <th>CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>sm</code>
      </td>
      <td>
        40rem <em>(640px)</em>
      </td>
      <td>
        <code>@media (width &gt;= 40rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>md</code>
      </td>
      <td>
        48rem <em>(768px)</em>
      </td>
      <td>
        <code>@media (width &gt;= 48rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>lg</code>
      </td>
      <td>
        64rem <em>(1024px)</em>
      </td>
      <td>
        <code>@media (width &gt;= 64rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>xl</code>
      </td>
      <td>
        80rem <em>(1280px)</em>
      </td>
      <td>
        <code>@media (width &gt;= 80rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>2xl</code>
      </td>
      <td>
        96rem <em>(1536px)</em>
      </td>
      <td>
        <code>@media (width &gt;= 96rem) &#123; ... &#125;</code>
      </td>
    </tr>
  </tbody>
</table>
}

Это работает для **каждой утилиты фреймворка**, то есть вы можете изменять буквально что угодно на любом брейкпоинте — даже такие вещи, как межбуквенное расстояние или стили курсора.

Вот простой пример компонента маркетинговой страницы, который использует вертикальную компоновку на маленьких экранах и горизонтальную — на больших:

<Figure>

<Example resizable padding={false}>
  {
    <Iframe className="h-[572px] w-full overflow-x-scroll">
      <div className="flex h-screen w-screen items-center justify-center p-8">
        <div className="mx-auto max-w-md overflow-hidden rounded-lg bg-white shadow-xl ring-1 ring-gray-900/5 sm:max-w-2xl">
          <div className="flex flex-col sm:flex-row">
            <div className="sm:shrink-0">
              <img
                className="h-[200px] w-full object-cover object-bottom sm:w-[193px] sm:object-center"
                src="https://images.unsplash.com/photo-1637734433731-621aca1c8cb6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=404&q=80"
                width="202"
                height="192"
                alt="Красивое абстрактное здание на солнце"
              />
            </div>
            <div className="space-y-2 p-6 2xl:p-8">
              <div className="text-sm leading-6 font-medium text-indigo-600">Корпоративные ретриты</div>
              <a href="#" className="block text-base leading-6 font-semibold text-gray-900 hover:underline">
                Невероятное размещение для вашей команды
              </a>
              <p
                className="text-sm leading-6 text-gray-600"
                children={`Хотите увезти команду на ретрит, чтобы насладиться отличной едой и солнцем? У нас есть список мест для этого.`}
              ></p>
            </div>
          </div>
        </div>
      </div>
    </Iframe>
  }
</Example>

```html
<!-- [!code word:md:max-w-2xl] -->
<div class="mx-auto max-w-md overflow-hidden rounded-xl bg-white shadow-md md:max-w-2xl">
  <!-- [!code word:md:flex] -->
  <div class="md:flex">
    <!-- [!code word:md:shrink-0] -->
    <div class="md:shrink-0">
      <!-- [!code word:md:h-full] -->
      <!-- [!code word:md:w-48] -->
      <img
        class="h-48 w-full object-cover md:h-full md:w-48"
        src="/img/building.jpg"
        alt="Современная архитектура здания"
      />
    </div>
    <div class="p-8">
      <div class="text-sm font-semibold tracking-wide text-indigo-500 uppercase">Корпоративные ретриты</div>
      <a href="#" class="mt-1 block text-lg leading-tight font-medium text-black hover:underline">
        Невероятное размещение для вашей команды
      </a>
      <p class="mt-2 text-gray-500">
        Хотите увезти команду на ретрит, чтобы насладиться отличной едой и солнцем? У нас есть список мест для этого.
      </p>
    </div>
  </div>
</div>
```

</Figure>

Вот как работает пример выше:

- По умолчанию внешний `div` — это `display: block`, но с помощью утилиты `md:flex` он становится `display: flex` на средних экранах и больше.
- Когда родитель — flex-контейнер, мы хотим, чтобы изображение не сжималось, поэтому добавили `md:shrink-0` для предотвращения сжатия на средних экранах и больше. Технически можно было бы использовать просто `shrink-0`, но так понятнее.
- На маленьких экранах изображение по умолчанию занимает всю ширину. На средних и больше — ограничено фиксированным размером и всегда по высоте контейнера с помощью `md:h-full md:w-48`.

В этом примере использован только один брейкпоинт, но вы легко можете кастомизировать компонент и для других размеров с помощью префиксов `sm`, `lg`, `xl` или `2xl`.

## Мобильный подход (mobile-first)

Tailwind использует mobile-first систему брейкпоинтов, как и другие популярные фреймворки.

Это значит, что утилиты без префикса (например, `uppercase`) применяются на всех экранах, а с префиксом (например, `md:uppercase`) — только на указанном брейкпоинте и выше.

### Стилизация для мобильных экранов

Чаще всего ошибка — попытка стилизовать мобильную версию с помощью `sm:`. Не думайте о `sm:` как о "маленьких экранах", это именно "маленький брейкпоинт".

<TipBad>
  {
    <>
      Не используйте <code>sm:</code> для стилизации мобильных устройств
    </>
  }
</TipBad>

```html
<!-- [!code filename:HTML]  -->
<!-- Это выровняет текст по центру только на экранах 640px и шире, а не на мобильных -->
<div class="sm:text-center"></div>
```

<TipGood>{<>Используйте утилиты без префикса для мобильных, а на больших экранах переопределяйте их</>}</TipGood>

```html
<!-- [!code filename:HTML]  -->
<!-- Это выровняет текст по центру на мобильных, а на экранах 640px и шире — по левому краю -->
<div class="text-center sm:text-left"></div>
```

Поэтому часто лучше сначала реализовать мобильную версию, а затем добавлять изменения для `sm`, `md` и т.д.

### Стилизация диапазона брейкпоинтов

По умолчанию стили, применённые через `md:flex`, будут работать на этом брейкпоинте и выше.

Если нужно применить утилиту _только_ в определённом диапазоне, комбинируйте префикс брейкпоинта с `max-*`:

```html
<!-- [!code filename:HTML]  -->
<div class="md:max-xl:flex">
  <!-- ... -->
</div>
```

Tailwind генерирует соответствующий вариант `max-*` для каждого брейкпоинта, например:

{

<table>
  <thead>
    <tr>
      <th>Вариант</th>
      <th>Media query</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>max-sm</code>
      </td>
      <td>
        <code>@media (width &lt; 40rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>max-md</code>
      </td>
      <td>
        <code>@media (width &lt; 48rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>max-lg</code>
      </td>
      <td>
        <code>@media (width &lt; 64rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>max-xl</code>
      </td>
      <td>
        <code>@media (width &lt; 80rem) &#123; ... &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>max-2xl</code>
      </td>
      <td>
        <code>@media (width &lt; 96rem) &#123; ... &#125;</code>
      </td>
    </tr>
  </tbody>
</table>
}

### Стилизация только одного брейкпоинта

Чтобы применить стиль только на одном брейкпоинте, комбинируйте префикс брейкпоинта с `max-*` для следующего брейкпоинта:

```html
<!-- [!code filename:HTML]  -->
<div class="md:max-lg:flex">
  <!-- ... -->
</div>
```

Подробнее — [в разделе про диапазоны брейкпоинтов](#targeting-a-breakpoint-range).

## Кастомные брейкпоинты

### Кастомизация вашей темы

Используйте переменные темы `--breakpoint-*` для настройки брейкпоинтов:

```css
/* [!code filename:app.css] */
@import "tailwindcss";

@theme {
  /* [!code highlight:4] */
  --breakpoint-xs: 30rem;
  --breakpoint-2xl: 100rem;
  --breakpoint-3xl: 120rem;
}
```

Это обновит брейкпоинт `2xl` до 100rem вместо 96rem по умолчанию и добавит новые `xs` и `3xl`, которые можно использовать в разметке:

```html
<!-- [!code filename:HTML]  -->
<!-- [!code word:xs:grid-cols-2] -->
<!-- [!code word:3xl:grid-cols-6] -->
<!-- prettier-ignore -->
<div class="grid xs:grid-cols-2 3xl:grid-cols-6">
  <!-- ... -->
</div>
```

Важно всегда использовать одну и ту же единицу измерения для всех брейкпоинтов, иначе порядок применения утилит может быть неожиданным.

Tailwind по умолчанию использует `rem`, поэтому если добавляете свои брейкпоинты — используйте тоже `rem`.

Подробнее о кастомизации темы — [в документации по теме](/docs/theme).

### Удаление стандартных брейкпоинтов

Чтобы удалить стандартный брейкпоинт, сбросьте его значение на `initial`:

```css
/* [!code filename:app.css] */
@import "tailwindcss";

@theme {
  /* [!code highlight:2] */
  --breakpoint-2xl: initial;
}
```

Можно сбросить все стандартные брейкпоинты с помощью `--breakpoint-*: initial`, а затем определить свои:

```css
/* [!code filename:app.css] */
@import "tailwindcss";

@theme {
  /* [!code highlight:5] */
  --breakpoint-*: initial;
  --breakpoint-tablet: 40rem;
  --breakpoint-laptop: 64rem;
  --breakpoint-desktop: 80rem;
}
```

Подробнее — [в документации по теме](/docs/theme).

### Использование произвольных значений

Если нужно использовать разовый брейкпоинт, который не имеет смысла добавлять в тему, используйте варианты `min` или `max` с любым значением:

```html
<!-- [!code word:min-\[320px\]:text-center] -->
<!-- [!code word:max-\[600px\]:bg-sky-300] -->
<div class="max-[600px]:bg-sky-300 min-[320px]:text-center">
  <!-- ... -->
</div>
```

Подробнее — [в документации по произвольным значениям](/docs/adding-custom-styles#using-arbitrary-values).

## Контейнерные запросы (container queries)

### Что такое контейнерные запросы?

[Контейнерные запросы](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries) — современная возможность CSS, позволяющая стилизовать элемент в зависимости от размера родителя, а не всего окна. Это делает компоненты более переносимыми и переиспользуемыми.

### Базовый пример

Используйте класс `@container` для пометки элемента как контейнера, а затем варианты типа `@sm` и `@md` для стилизации дочерних элементов в зависимости от размера контейнера:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@container] -->
<!-- [!code word:@md:flex-row] -->
<div class="@container">
  <div class="flex flex-col @md:flex-row">
    <!-- ... -->
  </div>
</div>
```

Как и брейкпоинты, контейнерные запросы в Tailwind mobile-first и применяются при достижении размера контейнера и выше.

### Контейнерные запросы с max-width

Используйте варианты типа `@max-md` для применения стиля ниже определённого размера контейнера:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@max-md:flex-col] -->
<div class="@container">
  <div class="flex flex-row @max-md:flex-col">
    <!-- ... -->
  </div>
</div>
```

### Диапазоны контейнерных запросов

Комбинируйте обычный вариант с max-width для применения стиля только в определённом диапазоне:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@sm:@max-md:flex-col] -->
<div class="@container">
  <div class="flex flex-row @sm:@max-md:flex-col">
    <!-- ... -->
  </div>
</div>
```

### Именованные контейнеры

Для сложных макетов с несколькими вложенными контейнерами можно использовать имена контейнеров через `@container/{name}` и таргетировать их с помощью вариантов типа `@sm/{name}` и `@md/{name}`:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@container/main] -->
<!-- [!code word:@sm/main:flex-col] -->
<div class="@container/main">
  <!-- ... -->
  <div class="flex flex-row @sm/main:flex-col">
    <!-- ... -->
  </div>
</div>
```

Это позволяет стилизовать элемент в зависимости от размера не только ближайшего, но и любого другого контейнера.

### Кастомные размеры контейнеров

Используйте переменные темы `--container-*` для настройки размеров контейнеров:

```css
/* [!code filename:app.css] */
@import "tailwindcss";

@theme {
  /* [!code highlight:2] */
  --container-8xl: 96rem;
}
```

Это добавит новый вариант контейнерного запроса `8xl`, который можно использовать в разметке:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@8xl:flex-row] -->
<div class="@container">
  <!-- prettier-ignore -->
  <div class="flex flex-col @8xl:flex-row">
    <!-- ... -->
  </div>
</div>
```

Подробнее — [в документации по теме](/docs/theme).

<h3 id="using-arbitrary-container-query-values">
  <a href="#using-arbitrary-container-query-values">Использование произвольных значений</a>
</h3>

Используйте варианты типа `@min-[475px]` и `@max-[960px]` для разовых размеров контейнеров:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:@min-\[475px\]:flex-row] -->
<div class="@container">
  <div class="flex flex-col @min-[475px]:flex-row">
    <!-- ... -->
  </div>
</div>
```

### Использование единиц контейнерных запросов

Используйте [единицы длины контейнера](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries#container_query_length_units) типа `cqw` как произвольные значения в других утилитах для ссылки на размер контейнера:

```html
<!-- [!code filename:HTML] -->
<!-- [!code word:w-\[50cqw\] -->
<div class="@container">
  <div class="w-[50cqw]">
    <!-- ... -->
  </div>
</div>
```

### Справочник размеров контейнеров

По умолчанию Tailwind включает размеры контейнеров от 16rem _(256px)_ до 80rem _(1280px)_:

{

<table>
  <thead>
    <tr>
      <th>Вариант</th>
      <th>Минимальная ширина</th>
      <th>CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>@3xs</code>
      </td>
      <td>
        16rem <em>(256px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 16rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@2xs</code>
      </td>
      <td>
        18rem <em>(288px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 18rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@xs</code>
      </td>
      <td>
        20rem <em>(320px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 20rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@sm</code>
      </td>
      <td>
        24rem <em>(384px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 24rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@md</code>
      </td>
      <td>
        28rem <em>(448px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 28rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@lg</code>
      </td>
      <td>
        32rem <em>(512px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 32rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@xl</code>
      </td>
      <td>
        36rem <em>(576px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 36rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@2xl</code>
      </td>
      <td>
        42rem <em>(672px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 42rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@3xl</code>
      </td>
      <td>
        48rem <em>(768px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 48rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@4xl</code>
      </td>
      <td>
        56rem <em>(896px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 56rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@5xl</code>
      </td>
      <td>
        64rem <em>(1024px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 64rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@6xl</code>
      </td>
      <td>
        72rem <em>(1152px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 72rem) &#123; … &#125;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>@7xl</code>
      </td>
      <td>
        80rem <em>(1280px)</em>
      </td>
      <td>
        <code>@container (width &gt;= 80rem) &#123; … &#125;</code>
      </td>
    </tr>
  </tbody>
</table>
}
