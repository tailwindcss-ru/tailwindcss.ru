import { adamwathan, danhollick } from "@/app/blog/authors";
import card from "./card.jpg";
import SafariDark from "./safari-15-dark.png";
import SafariLight from "./safari-15-light.png";
import KeyboardLight from "./keyboard-light.png";
import KeyboardDark from "./keyboard-dark.png";
import { Figure } from "@/components/figure";
import { Example } from "@/components/example";
import { Stripes } from "@/components/stripes";
import { CodeExampleStack } from "@/components/code-example";
import { Image, YouTubeVideo } from "@/components/media";

export const meta = {
  title: "Tailwind CSS v4.1: Тени текста, маски и многое другое",
  description:
    "Я не был уверен, что это когда-либо произойдет, но мы сделали это — мы выпустили версию Tailwind CSS, которая включает утилиты для теней текста. Tailwind CSS v4.1 здесь, и он наполнен улучшениями, которые помогут вам (или вашему ИИ, трусишка) создавать еще лучшие интерактивные впечатления.",
  date: "2025-04-03T20:00:00.000Z",
  authors: [adamwathan, danhollick],
  image: card,
  excerpt: (
    <>
      Я не был уверен, что это когда-либо произойдет, но мы сделали это — мы выпустили версию Tailwind CSS, которая включает утилиты для теней текста. Tailwind CSS v4.1 здесь, и он наполнен улучшениями, которые помогут вам (или вашему ИИ, трусишка) создавать еще лучшие интерактивные впечатления.
    </>
  ),
};

<YouTubeVideo id="HTFHoA12MJk" />

Я не был уверен, что это когда-либо произойдет, но мы сделали это — мы выпустили версию Tailwind CSS, которая включает утилиты `text-shadow`.

Tailwind CSS v4.1 здесь, и он наполнен новыми утилитами, вариантами и улучшениями для разработчиков, которые помогут вам _(или вашему ИИ, трусишка)_ создавать еще лучшие интерактивные впечатления.

Вот все самое лучшее, что мы включили в этот релиз:

- [Новые утилиты `text-shadow-*`](#новые-утилиты-text-shadow) — всего лишь лет через двадцать после того, как они впервые были поддержаны браузером.
- [Маскирование элементов с помощью утилит `mask-*`](#маскирование-элементов-с-помощью-утилит-mask) — используйте изображения и градиенты для маскирования элементов с новыми эргономичными API.
- [Улучшенная совместимость со старыми браузерами](#improved-compatibility-with-older-browsers) — мы сделали так, чтобы всё деградировало намного более плавно для старых браузеров, при этом по-прежнему используя современные функции в браузерах, которые их поддерживают.
- [Точное перенос текста с `overflow-wrap`](#fine-grained-text-wrapping-with-overflow-wrap) — защитите целостность ваших макетов от даже самых длинных немецких слов, которые ваши пользователи могут вам подбросить.
- [Поддержка цветных `drop-shadow`](#colored-drop-shadow-support) — не могу вспомнить, почему у нас их не было раньше, но теперь они есть.
- [Нацеливание на устройства ввода с `pointer-*` и `any-pointer-*`](#target-input-devices-with-pointer-and-any-pointer) — настраивайте дизайн для сенсорных устройств явно, вместо того чтобы полагаться на размер viewport.
- [Выравнивание элементов по последней базовой линии](#align-items-to-the-last-baseline) — выравнивайте flex или grid элементы по базовой линии последней строки текста с помощью новых утилит `items-baseline-last` и `self-baseline-last`.
- [Сохраняйте контент видимым с `safe` выравниванием](#keep-content-visible-with-safe-alignment) — центрируйте контент в flex и grid макетах без его исчезновения, когда недостаточно места.
- [Игнорирование конкретных путей с `@source not`](#ignore-specific-paths-with-source-not) — явно игнорируйте нерелевантные большие директории и ускоряйте ваши сборки ещё больше.
- [Safelist конкретных утилит с `@source inline(…)`](#safelist-specific-utilities-with-source-inline) — заставьте Tailwind включать классы, которых нет в ваших исходных файлах.
- [Куча других новых вариантов](#a-bunch-of-other-new-variants) — включая `noscript`, `user-valid`, `inverted-colors` и другие.

Это все крутые вещи, но есть еще несколько других мелочей, спрятанных в [заметках о релизе](https://github.com/tailwindlabs/tailwindcss/releases/tag/v4.1.0), которые вы тоже можете захотеть проверить.

Обновите ваши проекты, установив последнюю версию `tailwindcss` из npm:

<CodeExampleStack>

```sh
# [!code filename:Использование Tailwind CLI]
npm install tailwindcss@latest @tailwindcss/cli@latest
```

```sh
# [!code filename:Использование Vite]
npm install tailwindcss@latest @tailwindcss/vite@latest
```

```sh
# [!code filename:Использование PostCSS]
npm install tailwindcss@latest @tailwindcss/postcss@latest
```

</CodeExampleStack>

---

## Новые утилиты `text-shadow-*`

Мы угрожали добавить тени текста как минимум последние шесть лет, и сегодня они наконец здесь.

Мы добавили пять теней текста в стандартную тему, от `text-shadow-2xs` до `text-shadow-lg`. Они особенно полезны для выделения заголовков на загруженном фоне:

<Figure>

<Example padding={false}>
  {
    <div className="relative grid items-center justify-around gap-4 bg-linear-45 from-indigo-400 via-purple-500 to-pink-500 px-6 py-14 text-center text-2xl font-semibold text-white">
      <p className="relative text-shadow-2xs">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-xs">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-sm">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-md">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-lg">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
    </div>
  }
</Example>

```html
<!-- [!code classes:text-shadow-2xs,text-shadow-xs,text-shadow-sm,text-shadow-md,text-shadow-lg,text-shadow-xl] -->
<p class="text-shadow-2xs ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-xs ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-sm ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-md ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-lg ...">Быстрая коричневая лиса...</p>
```

</Figure>

Вы можете изменить цвет тени, используя утилиты `text-shadow-<color>`. Например, вы можете создать своего рода эффект тиснения, используя небольшую белую тень на темном тексте:

<Figure>

<Example>
  {
    <div className="relative grid h-48 place-items-center">
      <div className="-mr-10 flex gap-4 max-sm:-mr-32">
        <button className="relative rounded-full bg-linear-to-b from-sky-300 to-sky-400 to-70% px-4 py-2 text-sm font-semibold text-sky-950 shadow-md ring inset-shadow-2xs ring-sky-500 inset-shadow-white/20 text-shadow-2xs text-shadow-sky-300 dark:ring-sky-500/50">
          Забронировать демо
          <div className="absolute top-1/2 -left-6/5 size-42 -translate-y-1/2 overflow-hidden rounded-full bg-white/20 p-2 shadow-lg ring-2 ring-black/5 backdrop-blur-sm dark:ring-black/10">
            <div className="grid size-full items-center overflow-hidden rounded-full bg-linear-to-b from-sky-300 to-sky-400 to-50% px-5 pb-2 text-[70px] font-semibold whitespace-nowrap text-sky-900 inset-ring-2 inset-ring-black/10 text-shadow-[0px_5px_0px_var(--tw-text-shadow-color)] text-shadow-sky-300">
              Забронировать демо
            </div>
          </div>
        </button>
        <button className="relative rounded-full bg-linear-to-b from-white/10 to-white/20 to-70% px-4 py-2 text-sm font-semibold text-gray-950 shadow-md ring inset-shadow-2xs ring-black/20 inset-shadow-white/10 dark:text-white dark:text-shadow-2xs">
          Посмотреть цены
        </button>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:text-shadow-sky-300] -->
<button class="text-sky-950 text-shadow-2xs text-shadow-sky-300 ...">Забронировать демо</button>
<button class="text-gray-950 dark:text-white dark:text-shadow-2xs ...">Посмотреть цены</button>
```

</Figure>

Если вы просто хотите настроить прозрачность тени текста, не меняя цвет, вы можете добавить модификатор прозрачности прямо к утилитам размера тени текста, таким как `text-shadow-lg`.

Например, `text-shadow-lg/50` — это то же самое, что установить `text-shadow-lg` и `text-shadow-black/50` одновременно:

<Figure>

<Example padding={false}>
  {
    <div className="relative grid items-center justify-around gap-4 bg-linear-45 from-indigo-400 via-sky-400 to-emerald-400 px-6 py-14 text-center text-2xl font-semibold text-white">
      <p className="relative text-shadow-lg">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-lg/20">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
      <p className="relative text-shadow-lg/30">Быстрая коричневая лиса перепрыгивает через ленивую собаку.</p>
    </div>
  }
</Example>

```html
<!-- [!code classes:text-shadow-lg/20,text-shadow-lg/30] -->
<p class="text-shadow-lg ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-lg/20 ...">Быстрая коричневая лиса...</p>
<p class="text-shadow-lg/30 ...">Быстрая коричневая лиса...</p>
```

</Figure>

Ознакомьтесь с документацией [`text-shadow`](/docs/text-shadow) для получения более подробной информации.

---

## Маскирование элементов с помощью утилит `mask-*`

Одна из самых крутых функций современного CSS — это возможность использовать изображения и градиенты в качестве масок — по сути, использование прозрачности изображения для скрытия определенных частей элемента:

<Figure>

<Example padding={false}>
  {
    <div className="mx-auto flex items-center p-16 max-sm:p-6">
      <img
        src={KeyboardLight.src}
        className="aspect-square max-h-72 w-full mask-radial-[100%_200%] mask-radial-from-transparent mask-radial-from-15% mask-radial-to-black mask-radial-to-60% mask-radial-at-right object-cover object-top-left dark:hidden"
        alt=""
      />
      <img
        src={KeyboardDark.src}
        className="hidden aspect-square max-h-72 w-full mask-radial-[100%_200%] mask-radial-from-transparent mask-radial-from-15% mask-radial-to-black mask-radial-to-60% mask-radial-at-right object-cover object-top-left dark:block"
        alt=""
      />
      <div className="font-medium max-sm:-mx-3">
        <p className="font-mono text-xs text-blue-500 uppercase dark:text-blue-400">Скорость</p>
        <p className="mt-2 text-base whitespace-nowrap text-gray-700 dark:text-gray-300">Создано для опытных пользователей</p>
        <p className="mt-1 text-sm leading-relaxed text-balance text-gray-500">
          Работайте быстрее, чем когда-либо, с нашими сочетаниями клавиш
        </p>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:mask-radial-from-transparent,mask-radial-from-15%,mask-radial-to-black,mask-radial-to-55%,mask-radial-at-right] -->
<div class="mx-auto flex items-center p-16 max-sm:p-8">
  <img
    src="/img/keyboard.png"
    class="mask-radial-from-transparent mask-radial-from-15% mask-radial-to-black mask-radial-to-55% mask-radial-at-right ..."
  />
  <div class="font-medium">
    <p class="font-mono text-xs text-blue-500 uppercase dark:text-blue-400">Скорость</p>
    <p class="mt-2 text-base text-gray-700 dark:text-gray-300">Создано для опытных пользователей</p>
    <p class="mt-1 text-sm leading-relaxed text-balance text-gray-500">
      Работайте быстрее, чем когда-либо, с нашими сочетаниями клавиш
    </p>
  </div>
</div>
```

</Figure>

Поскольку вы можете использовать любое `background-image` в качестве маски, логичным было бы скопировать утилиты `bg-*`, чтобы они использовали тот же API. Проблема с этим подходом в том, что вы часто хотите комбинировать несколько масок вместе, а утилиты `bg-*` не являются композируемыми.

Поэтому вместо этого мы создали новый набор утилит для работы с `mask-image`, которые являются композируемыми и специально созданы для случая использования маскирования. Например, вы можете использовать утилиты типа `mask-b-from-<value>` и `mask-t-to-<value>` для добавления линейной градиентной маски к одной стороне элемента:

<Figure>

<Example padding={false}>
  {
    <div className="grid grid-cols-1 items-end gap-x-2 gap-y-8 p-8 text-center font-mono text-xs font-medium text-gray-500 max-sm:justify-between max-sm:px-2 sm:grid-cols-2 dark:text-gray-400">
      <div className="flex flex-col items-center gap-3">
        <p>mask-t-from-50%</p>
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-t-from-50% bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
      <div className="flex flex-col items-center gap-3">
        <p>mask-r-from-30%</p>
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-r-from-30% bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
      <div className="flex flex-col items-center gap-3">
        <p>mask-l-from-50% mask-l-to-90%</p>
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-l-from-50% mask-l-to-90% bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
      <div className="flex flex-col items-center gap-3">
        <p>mask-b-from-20% mask-b-to-80%</p>
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-b-from-20% mask-b-to-80% bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
    </div>
  }
</Example>

{/* prettier-ignore */}
```html
<!-- [!code classes:mask-t-from-50%,mask-r-from-30%,mask-l-from-50%,mask-l-to-90%,mask-b-from-20%,mask-b-to-80%] -->
<div class="mask-t-from-50% bg-[url(/img/mountains.jpg)] ..."></div>
<div class="mask-r-from-30% bg-[url(/img/mountains.jpg)] ..."></div>
<div class="mask-l-from-50% mask-l-to-90% bg-[url(/img/mountains.jpg)] ..."></div>
<div class="mask-b-from-20% mask-b-to-80% bg-[url(/img/mountains.jpg)] ..."></div>
```

</Figure>

Более естественно думать о том, какую сторону вы хотите замаскировать, а не пытаться выяснить точный градиент, который вам нужно использовать.

Утилиты градиентных масок также являются композируемыми, поэтому вы можете комбинировать радиальные, конические и линейные градиенты вместе для создания более сложных масок:

<Figure>

<Example>
  {
    <div className="grid grid-cols-1 items-end gap-x-2 gap-y-8 p-8 text-center font-mono text-xs font-medium text-gray-500 max-sm:justify-between max-sm:px-2 sm:grid-cols-2 dark:text-gray-400">
      <div className="flex flex-col items-center">
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-b-from-50% mask-radial-[50%_90%] mask-radial-from-80% mask-radial-at-bottom bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
      <div className="flex flex-col items-center">
        <div className="grid aspect-3/2 w-48 grid-cols-1">
          <Stripes className="col-start-1 row-start-1 rounded-lg" border />
          <div className="col-start-1 row-start-1 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-r-from-80% mask-b-from-80% mask-radial-from-70% mask-radial-to-85% mask-circle mask-radial-at-top-left bg-cover bg-center mask-no-repeat"></div>
        </div>
      </div>
    </div>
  }
</Example>

{/* prettier-ignore */}
```html
<!-- [!code classes:mask-b-from-50%,mask-radial-[50%_90%],mask-radial-from-80%,mask-r-from-80%,mask-b-from-80%,mask-radial-from-70%,mask-radial-to-85%] -->
<div class="mask-b-from-50% mask-radial-[50%_90%] mask-radial-from-80% bg-[url(/img/mountains.jpg)] ..."></div>
<div class="mask-r-from-80% mask-b-from-80% mask-radial-from-70% mask-radial-to-85% bg-[url(/img/mountains.jpg)] ..."></div>
```

</Figure>

Маскирование — это супер мощная техника, и в API гораздо больше, чем мы можем охватить здесь. Для полного разбора новых утилит ознакомьтесь с [документацией](/docs/mask-image).

---

### Улучшенная совместимость со старыми браузерами

Мы полностью погрузились в современные функции платформы с Tailwind CSS v4.0, чтобы создать лучший фреймворк, который мы могли, и дать этой версии максимально долгий срок службы.

К сожалению, некоторые из этих функций очень плохо деградируют в старых браузерах, до такой степени, что даже базовые вещи, такие как цвета и тени, могут вообще не отображаться для кого-то, кто заходит со старого iPhone или iPad, застрявшего на Safari 15.

Для Tailwind CSS v4.1 мы приложили много усилий, чтобы придумать и протестировать наши собственные специфичные для фреймворка fallback'и, чтобы ваши сайты отображались как можно лучше в старых браузерах, даже если некоторые супер современные вещи все еще не ведут себя совсем так же.

<Image
  alt="Сравнение того, как Tailwind CSS v4.0 (слева) и Tailwind CSS v4.1 (справа) отображаются в Safari 15.5. Tailwind CSS v4.0 не может отобразить некоторые фоновые градиенты, которые теперь видны в Tailwind CSS v4.1"
  src={SafariLight}
  className="dark:hidden"
/>

<Image
  alt="Сравнение того, как Tailwind CSS v4.0 (слева) и Tailwind CSS v4.1 (справа) отображаются в Safari 15.5. Tailwind CSS v4.0 не может отобразить некоторые фоновые градиенты, которые теперь видны в Tailwind CSS v4.1"
  src={SafariDark}
  className="hidden dark:block"
/>

Вот список вещей, которые нам удалось улучшить в этом релизе:

- Цвета, определенные в `oklab`, теперь отображаются в старых версиях Safari
- Функции, которые зависят от пользовательских свойств, определенных с помощью `@property` (такие как тени, трансформации, градиенты и многое другое), теперь работают в старых версиях Safari и Firefox
- Цвета, использующие модификатор прозрачности, теперь отображаются с встроенными fallback'ами в старых браузерах
- Градиенты, использующие явные методы интерполяции, fallback'ают к браузерному значению по умолчанию, когда не поддерживаются

Tailwind CSS v4 все еще _разработан_ для современных браузеров, таких как Safari 16.4 и выше, и все еще зависит от множества современных функций, чтобы все работало _идеально_, но по крайней мере теперь ваши сайты будут отображаться и быть пригодными для использования в старых браузерах, даже если в определенных конкретных ситуациях странный цвет тени может быть другим.

Чтобы узнать все, что вам нужно знать о совместимости браузеров в Tailwind CSS v4, вы можете прочитать полную [документацию по совместимости браузеров](/docs/compatibility).

---

## Точное перенос текста с `overflow-wrap`

Новые утилиты `overflow-wrap` позволяют вам контролировать, как текст переносится внутри элемента. Утилита `wrap-break-word` особенно полезна для длинных слов или URL, которые в противном случае могут сломать ваш макет:

<Figure>

<Example padding={false}>
  {
    <p className="mx-auto max-w-xs border-x border-x-pink-400/30 py-8 wrap-break-word text-gray-900 dark:text-gray-200">
      Самое длинное слово в любом из основных словарей английского языка — это{" "}
      <span className="font-bold">пневмоультрамикроскопикосиковулканокониоз,</span> слово, которое относится к легочному
      заболеванию, полученному от вдыхания очень мелких частиц кремнезема, особенно из вулкана; с медицинской точки зрения, это
      то же самое, что и силикоз.
    </p>
  }
</Example>

```html
<!-- [!code classes:wrap-break-word] -->
<p class="wrap-break-word">Самое длинное слово в любом из основных...</p>
```

</Figure>

Единственный случай, когда это не ведет себя совсем так, как вы ожидаете, это внутри flex контейнера, и именно там вы, вероятно, захотите использовать новую утилиту `wrap-anywhere`.

Она похожа на `wrap-break-word`, но позволяет переносы строк в середине слова при вычислении внутреннего размера элемента, заменяя необходимость устанавливать `min-width: 0` на дочернем элементе:

<Figure>

<Example>
  {
    <div>
      <p className="mb-3 text-center font-mono text-xs font-medium text-gray-500 dark:text-gray-400">wrap-break-word</p>
      <div className="mx-auto flex max-w-sm items-center gap-4 rounded-xl bg-white p-3 shadow-sm ring ring-black/2.5 dark:bg-black/10 dark:ring-white/10">
        <img
          className="size-16 rounded-full outline -outline-offset-1 outline-black/10 dark:outline-white/10"
          src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
          alt=""
        />
        <div className="wrap-break-word">
          <p className="text-sm font-medium text-gray-900 dark:text-white">Джей Рименшнайдер</p>
          <p className="text-sm text-gray-500 dark:text-gray-400">jason.riemenschneider@vandelayindustries.com</p>
        </div>
      </div>
      <p className="mt-8 mb-3 text-center font-mono text-xs font-medium text-gray-500 dark:text-gray-400">
        wrap-anywhere
      </p>
      <div className="mx-auto flex max-w-sm items-center gap-4 rounded-xl bg-white p-3 shadow-sm ring ring-black/2.5 dark:bg-black/10 dark:ring-white/10">
        <img
          className="size-16 rounded-full outline -outline-offset-1 outline-black/10 dark:outline-white/10"
          src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
          alt=""
        />
        <div className="wrap-anywhere">
          <p className="text-sm font-medium text-gray-900 dark:text-white">Джей Рименшнайдер</p>
          <p className="text-sm text-gray-500 dark:text-gray-400">jason.riemenschneider@vandelayindustries.com</p>
        </div>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:wrap-anywhere,wrap-break-word] -->
<div class="flex max-w-sm">
  <img class="size-16 rounded-full" src="/img/profile.jpg" />
  <div class="wrap-break-word">
    <p class="font-medium">Джей Рименшнайдер</p>
    <p>jason.riemenschneider@vandelayindustries.com</p>
  </div>
</div>
<div class="flex max-w-sm">
  <img class="size-16 rounded-full" src="/img/profile.jpg" />
  <div class="wrap-anywhere">
    <p class="font-medium">Джей Рименшнайдер</p>
    <p>jason.riemenschneider@vandelayindustries.com</p>
  </div>
</div>
```

</Figure>

В этом не так уж много больше, но вот документация [`overflow-wrap`](/docs/overflow-wrap), если вы хотите прочитать ее снова немного другими словами.

---

## Поддержка цветных `drop-shadow`

Пока мы создавали поддержку `text-shadow`, мы подумали, что можем также добавить еще одну функцию, которую мы никогда не успевали реализовать: цветные drop shadow.

Теперь вы можете использовать утилиты типа `drop-shadow-indigo-500` и `drop-shadow-cyan-500/50` для изменения цвета drop shadow:

<Figure>

<Example>
  {
    <div className="grid grid-cols-3 items-end gap-8 max-sm:grid-cols-1">
      <div className="flex flex-col items-center">
        <p className="mb-3 text-center font-mono text-xs font-medium text-gray-500">drop-shadow-cyan-500/50</p>
        <svg className="size-28 text-gray-950/100 drop-shadow-xl drop-shadow-cyan-500/50" viewBox="0 0 84 84">
          <path
            d="M22.0992 77L2.19922 42.5L22.0992 8H61.8992L81.7992 42.5L61.8992 77H22.0992Z"
            className="fill-cyan-500"
          />
        </svg>
      </div>
      <div className="flex flex-col items-center">
        <p className="mb-3 text-center font-mono text-xs font-medium text-gray-500">drop-shadow-sky-500/50</p>
        <svg className="size-28 text-gray-950/100 drop-shadow-xl drop-shadow-sky-500/50" viewBox="0 0 84 84">
          <path
            d="M22.0992 77L2.19922 42.5L22.0992 8H61.8992L81.7992 42.5L61.8992 77H22.0992Z"
            className="fill-sky-500"
          />
        </svg>
      </div>
      <div className="flex flex-col items-center">
        <p className="mb-3 text-center font-mono text-xs font-medium text-gray-500">drop-shadow-indigo-500/50</p>
        <svg className="size-28 text-gray-950/100 drop-shadow-xl drop-shadow-indigo-500/50" viewBox="0 0 84 84">
          <path
            d="M22.0992 77L2.19922 42.5L22.0992 8H61.8992L81.7992 42.5L61.8992 77H22.0992Z"
            className="fill-indigo-500"
          />
        </svg>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:drop-shadow-cyan-500/50,drop-shadow-blue-500/50,drop-shadow-indigo-500/50] -->
<svg class="fill-cyan-500 drop-shadow-xl drop-shadow-cyan-500/50 ...">...</svg>
<svg class="fill-blue-500 drop-shadow-xl drop-shadow-blue-500/50 ...">...</svg>
<svg class="fill-indigo-500 drop-shadow-xl drop-shadow-indigo-500/50 ...">...</svg>
```

</Figure>

В этом не так уж много больше, но вот [документация `drop-shadow`](/docs/filter-drop-shadow) в любом случае.

---

## Нацеливание на устройства ввода с `pointer-*` и `any-pointer-*`

Новые варианты `pointer-fine` и `pointer-coarse` позволяют вам стилизовать что-то по-разному в зависимости от того, использует ли пользователь устройство с мышью или сенсорный экран.

Используйте `pointer-fine` для нацеливания на точные указывающие устройства, такие как мыши и трекпады, и `pointer-coarse` для нацеливания на устройства с более низкой точностью, такие как сенсорные экраны:

<Figure hint="Попробуйте эмулировать сенсорное устройство в инструментах разработчика, чтобы увидеть изменения">

<Example>
  {
    <fieldset aria-label="Выберите вариант памяти" className="mx-auto max-w-md">
      <div className="flex items-center justify-between">
        <div className="text-sm/6 font-medium text-gray-900 dark:text-white">ОЗУ</div>
        <a href="#" className="text-sm/6 font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400">
          Посмотреть характеристики производительности
        </a>
      </div>
      <div className="mt-4 grid grid-cols-6 gap-2 max-sm:grid-cols-3 pointer-coarse:mt-6 pointer-coarse:grid-cols-3 pointer-coarse:gap-4">
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="4 GB" className="sr-only" />
          <span>4 ГБ</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="8 GB" className="sr-only" defaultChecked />
          <span>8 ГБ</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="16 GB" className="sr-only" />
          <span>16 ГБ</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="32 GB" className="sr-only" />
          <span>32 ГБ</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="64 GB" className="sr-only" />
          <span>64 ГБ</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 has-focus-visible:outline-2 has-focus-visible:outline-offset-2 has-focus-visible:outline-indigo-600 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="128 GB" className="sr-only" />
          <span>128 ГБ</span>
        </label>
      </div>
    </fieldset>
  }
</Example>

```html
<!-- [!code classes:pointer-coarse:mt-6,pointer-coarse:grid-cols-3,pointer-coarse:gap-4,pointer-coarse:p-4] -->
<fieldset aria-label="Выберите вариант памяти">
  <div class="flex items-center justify-between">
    <div>ОЗУ</div>
    <a href="#"> Посмотреть характеристики производительности </a>
  </div>
  <div class="mt-4 grid grid-cols-6 gap-2 pointer-coarse:mt-6 pointer-coarse:grid-cols-3 pointer-coarse:gap-4">
    <label class="p-2 pointer-coarse:p-4 ...">
      <input type="radio" name="memory-option" value="4 GB" className="sr-only" />
      <span>4 ГБ</span>
    </label>
    <!-- ... -->
  </div>
</fieldset>
```

</Figure>

Если вы на телефоне, вы увидите примененные стили `pointer-coarse`, которые делают сенсорные цели больше и легче для нажатия. Если вы на десктопе, вы увидите примененные стили `pointer-fine`, которые делают сенсорные цели меньше и более точными.

Варианты `any-pointer-*` работают так же, но вместо того, чтобы просто проверять _основное_ указывающее устройство пользователя, они проверяют, соответствует ли _любое_ указывающее устройство. Так что `any-pointer-coarse` будет соответствовать на ноутбуке с сенсорным экраном, например, даже если у пользователя также подключена мышь.

---

## Выравнивание элементов по последней базовой линии

Когда работаете с flex или grid макетами, иногда вам нужно выровнять что-то по базовой линии последней строки текста, а не по концу контейнера.

Новая утилита `items-baseline-last` делает именно это:

<Figure>

<Example padding={false}>
  {
    <div className="mx-auto grid max-w-md divide-y divide-gray-100 border-x border-x-gray-200 text-gray-700 dark:divide-gray-800 dark:border-x-gray-800 dark:bg-gray-950/10 dark:text-gray-300">
      <div className="grid grid-cols-[1fr_auto] items-baseline-last gap-x-4 px-4 py-6">
        <div className="grid grid-cols-[auto_1fr] gap-x-4 max-sm:grid-cols-1">
          <img
            className="size-[2rem] rounded-full"
            src="https://spotlight.tailwindui.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Favatar.51a13c67.jpg&w=128&q=80"
            alt=""
          />
          <div className="font-semibold text-gray-900 sm:col-start-2 dark:text-white">Спенсер Шарп</div>
          <p className="text-sm sm:col-start-2">Работает над будущим набора астронавтов в Space Recruit.</p>
        </div>
        <a
          href="#"
          className="font-mono text-xs font-medium text-gray-400 underline hover:text-blue-500 dark:text-gray-500"
        >
          spacerecruit.com
        </a>
      </div>
      <div className="grid grid-cols-[1fr_auto] items-baseline-last gap-x-4 px-4 py-6">
        <div className="grid grid-cols-[auto_1fr] gap-x-4 max-sm:grid-cols-1">
          <img
            className="size-[2rem] rounded-full"
            src="https://images.unsplash.com/photo-1590895340509-793cb98788c9?q=80&w=256&h=256&&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
            alt=""
          />
          <div className="font-semibold text-gray-900 sm:col-start-2 dark:text-white">Алекс Рид</div>
          <p className="text-sm sm:col-start-2">Мультидисциплинарный дизайнер.</p>
        </div>
        <a
          href="#"
          className="font-mono text-xs font-medium text-gray-400 underline hover:text-blue-500 dark:text-gray-500"
        >
          alex-reed.com
        </a>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:items-baseline-last] -->
<div class="grid grid-cols-[1fr_auto] items-baseline-last">
  <div>
    <img src="img/spencer-sharp.jpg" />
    <h4>Спенсер Шарп</h4>
    <p>Работает над будущим набора астронавтов в Space Recruit.</p>
  </div>
  <p>spacerecruit.com</p>
</div>
```

</Figure>

Мы также добавили `self-baseline-last` для случая, когда вам нужно выровнять только один элемент, а не все элементы в flex или grid контейнере.

---

## Сохраняйте контент видимым с `safe` выравниванием

Вы когда-нибудь видели, как выровненное содержимое переполняется в обоих направлениях, когда контейнер становится слишком маленьким? Теперь вам не нужно использовать контейнерный запрос для переключения выравнивания на разных размерах.

Новые утилиты выравнивания `safe` изменят выравнивание на `start`, когда контейнер начинает переполняться, так что он переполняется только в одном направлении.

<Figure hint="Измените размер контейнера, чтобы увидеть поведение выравнивания">

<Example resizable>
  {
    <div className="grid grid-cols-1 gap-8">
      <div>
        <p className="text-center font-mono text-xs font-medium text-gray-500 dark:text-gray-400">justify-center</p>
        <ul className="flex justify-center gap-2 pt-4 text-sm text-sky-600 *:rounded-full *:border *:border-sky-100 *:bg-sky-50 *:px-2 *:py-0.5 dark:text-sky-300 dark:*:border-sky-500/15 dark:*:bg-sky-500/10">
          <li>Продажи</li>
          <li>Маркетинг</li>
          <li>SEO</li>
          <li>Аналитика</li>
          <li>Дизайн</li>
          <li>Стратегия</li>
          <li>Рост</li>
          <li>UX/UI</li>
        </ul>
      </div>
      <div>
        <p className="text-center font-mono text-xs font-medium text-gray-500 dark:text-gray-400">
          justify-center-safe
        </p>
        <ul className="flex justify-center-safe gap-2 pt-4 text-sm text-sky-600 *:rounded-full *:border *:border-sky-100 *:bg-sky-50 *:px-2 *:py-0.5 dark:text-sky-300 dark:*:border-sky-500/15 dark:*:bg-sky-500/10">
          <li>Продажи</li>
          <li>Маркетинг</li>
          <li>SEO</li>
          <li>Аналитика</li>
          <li>Дизайн</li>
          <li>Стратегия</li>
          <li>Рост</li>
          <li>UX/UI</li>
        </ul>
      </div>
    </div>
  }
</Example>

<CodeExampleStack>

```html
<!-- [!code filename:justify-center] -->
<!-- [!code classes:justify-center] -->
<ul class="flex justify-center gap-2 ...">
  <li>Продажи</li>
  <li>Маркетинг</li>
  <li>SEO</li>
  <!-- ... -->
</ul>
```

```html
<!-- [!code filename:justify-center-safe] -->
<!-- [!code classes:justify-center-safe] -->
<ul class="flex justify-center-safe gap-2 ...">
  <li>Продажи</li>
  <li>Маркетинг</li>
  <li>SEO</li>
  <!-- ... -->
</ul>
```

</CodeExampleStack>

</Figure>

Эти утилиты работают с обоими макетами flex и grid и доступны для всех свойств выравнивания.

---

## Игнорирование конкретных путей с `@source not`

Иногда вам нужно явно исключить некоторые части вашего кода из сканирования Tailwind. Теперь вы можете использовать `@source not` для игнорирования конкретных путей при сканировании для имен классов:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source not "./src/components/legacy";
```

Это полезно, когда у вас много файлов в проекте, но вы хотите просканировать только определенный подмножество из них.

---

## Safelist конкретных утилит с `@source inline(…)`

Если вам нужно убедиться, что Tailwind генерирует определенные имена классов, которые не существуют в ваших файлах содержимого, вы можете принудительно их генерировать, используя `@source inline()`:

<CodeExampleStack>

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source inline("underline");
```

```css
/* [!code filename:Сгенерированный CSS] */
.underline {
  text-decoration: underline;
}
```

</CodeExampleStack>

Это эквивалент параметра конфигурации `safelist` в предыдущих версиях Tailwind, но теперь вы можете использовать его в ваших файлах CSS вместо файла конфигурации.

Источник ввода является [brace-expanded](https://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html), поэтому вы можете генерировать несколько классов одновременно. Например, чтобы сгенерировать все оттенки красного с вариантами hover, вы можете добавить диапазон к входному источнику:

<CodeExampleStack>
```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source inline("{hover:,}bg-red-{50,{100..900..100},950}");
```

```css
/* [!code filename:Сгенерированный CSS] */
.bg-red-50 {
  background-color: var(--color-red-50);
}
.bg-red-100 {
  background-color: var(--color-red-100);
}
.bg-red-200 {
  background-color: var(--color-red-200);
}

/* ... */

.bg-red-800 {
  background-color: var(--color-red-800);
}
.bg-red-900 {
  background-color: var(--color-red-900);
}
.bg-red-950 {
  background-color: var(--color-red-950);
}
@media (hover: hover) {
  .hover\:bg-red-50:hover {
    background-color: var(--color-red-50);
  }

  /* ... */

  .hover\:bg-red-950:hover {
    background-color: var(--color-red-950);
  }
}
```

</CodeExampleStack>
Это создаст оттенки красного от 100 до 900 с шагом 100, а также 50 и 950 оттенки. Также добавляет `hover:` вариант для каждого из этих классов.

Вы также можете использовать `@source inline()` с модификатором `not` для исключения конкретных классов из генерации:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source not inline("container");
```

Это специально предотвратит генерацию `container` класса, даже если слово `container` обнаруживается в ваших файлах источника.

Для получения дополнительной информации проверьте [обнаружение классов в файлах источника](/docs/detecting-classes-in-source-files#safelisting-specific-utilities) документацию.

---

## Куча других новых вариантов

### Прекрасные аккордеоны с `details-content`

Хотя вы могли всегда добавлять стили к дочерним элементам `<details>` элемента, было невозможно стилизовать контейнер содержимого самого элемента.

Новый `details-content` вариант предназначен для контейнера содержимого, что полезно для позиционирования контейнера содержимого относительно `<summary>` элемента:

<Figure>
  <Example>
    {
    <div className="mx-auto max-w-lg">
      <details className="rounded-lg border border-transparent p-6 details-content:mt-3 details-content:-ml-0.5" open>
        <summary className="text-sm leading-6 font-semibold text-gray-900 select-none dark:text-white">
          Почему они называют это Ovaltine?
        </summary>
        <div
          className="list-inside list-disc rounded-lg border border-gray-200 bg-gray-50 py-3 pl-3 text-sm leading-6 text-gray-600 dark:border-white/10 dark:bg-gray-800/50 dark:text-gray-400"
        >
          <p>Кружка круглая. Банка круглая. Они должны называть это Roundtine.</p>
        </div>
      </details>
    </div>
    }
  </Example>

```html
<!-- [!code classes:details-content:mt-3,details-content:-ml-0.5] -->
<details class="rounded-lg border border-transparent p-6 details-content:mt-3 details-content:-ml-0.5" open>
  <summary class="text-sm leading-6 font-semibold text-gray-900 select-none dark:text-white">
    Почему они называют это Ovaltine?
  </summary>
  <div class="border-gray-200 bg-gray-50 py-3 pl-3 dark:border-white/10 dark:bg-gray-800/50 ...">
    <p>Кружка круглая. Банка круглая. Они должны называть это Roundtine.</p>
  </div>
</details>
```

</Figure>

---

## Нацеливание на режим `inverted-colors`

Используйте вариант `inverted-colors` для условного добавления стилей, когда пользователь включил инвертированную цветовую схему в своей ОС:

```html
<!-- [!code classes:inverted-colors:shadow-none] -->
<div class="shadow-xl inverted-colors:shadow-none ...">
  <!-- ... -->
</div>
```

Это полезно для вещей, таких как предотвращение черного тени, превращающегося в белый, когда включены обратные цвета.

---

## Новый вариант `noscript`

Да, некоторые люди отключают JavaScript и теперь вы можете сказать им, что ваше приложение не работает без него. Новый `noscript` вариант позволяет вам условно применять стили, когда JS отключен:

```html
<div class="hidden noscript:block">Пожалуйста, включите JavaScript для использования этого приложения.</div>
```

Вы могли бы уже сделать это с помощью `<noscript>` тега, но теперь вы можете сделать это с помощью CSS, что Tailwind позволяет вам писать в вашем HTML, так что… да.

---

## Лучшая валидация форм с `user-valid` и `user-invalid`

Вы когда-нибудь пытались использовать псевдокласс `:invalid` только для того, чтобы страница была полной красными недействительными состояниями, прежде чем пользователь даже коснулся вашей формы?

Новые `user-valid` и `user-invalid` варианты пытаются решить эту проблему, применяя связанные стили только после того, как пользователь фактически взаимодействовал с элементами управления:

```html
<!-- [!code classes:user-valid:border-green-500,user-invalid:border-red-500] -->
<input required class="border user-valid:border-green-500" />
<input required class="border user-invalid:border-red-500" />
```

---

Так что это все, это Tailwind CSS v4.1! Обновитесь до последней версии, используя npm, и начните играть с ним сегодня:

<CodeExampleStack>

```sh
# [!code filename:Использование Tailwind CLI]
npm install tailwindcss@latest @tailwindcss/cli@latest
```

```sh
# [!code filename:Использование Vite]
npm install tailwindcss@latest @tailwindcss/vite@latest
```

```sh
# [!code filename:Использование PostCSS]
npm install tailwindcss@latest @tailwindcss/postcss@latest
```

</CodeExampleStack>

С нетерпением ждем того, что вы создадите с новыми функциями!
